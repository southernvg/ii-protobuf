syntax = "proto3";
package stackfinder_service;

service StackFinder {
    rpc Health(HealthRequest) returns (HealthResponse);
    rpc StackFinderSite(StackFinderSiteRequest) returns (StackFinderResponse);
//    rpc StackFinderCode(StackFinderCodeRequest) returns (StackFinderResponse);
}

message HealthRequest {

}

message Category {
    int32 Id = 1;
    string Name = 2;
}

message HealthResponse {
    string Status = 1;
    string Version = 2;
}

message StackFinderSiteRequest {
    string Url = 1;
    bool IncludeUnknown = 2;
    bool ScreenShot = 3;
}
//
//message StackFinderCodeRequest {
//    string code = 1;
//    bool includeUnknown = 2;
//}

message StackFinderResponse {
    int32 Count = 1;

    message Item {
        int32 ItemId = 1;
        string ItemName = 2;
        repeated Category ItemCategory = 3;
        int32 InitiatorItemId = 4;
        string InitiatorItemName = 5;
        repeated Category InitiatorCategory = 6;
    }

    repeated Item items = 2;
}
